{"version":3,"file":"gw-ai.min.js","sources":["../js/index.js"],"sourcesContent":[";\n;\nvar FUNCS = {};\nasync function FALSE() { return false; }\nFUNCS.default = FALSE;\nvar KINDS = {};\nexport function addKind(id, config) {\n    KINDS[id] = config;\n    return true;\n}\nexport function addFunction(id, fn) {\n    FUNCS[id] = fn;\n    return true;\n}\nexport function make(opts = {}) {\n    if (typeof opts === 'string') {\n        return KINDS[opts];\n    }\n    const config = {\n        fns: [],\n    };\n    if (Array.isArray(opts)) {\n        config.fns = opts;\n    }\n    return config;\n}\nexport async function execute(actor) {\n    const config = actor.ai;\n    const fns = config.fns || [];\n    if (fns.length == 0)\n        return false;\n    for (let i = 0; i < fns.length; ++i) {\n        let fn = fns[i];\n        if (typeof fn === 'string') {\n            fn = FUNCS[fn] || FUNCS.default;\n        }\n        if (await fn(actor))\n            return true;\n    }\n    return false;\n}\n"],"names":["FUNCS","default","async","KINDS","id","config","fn","opts","fns","Array","isArray","actor","ai","length","i"],"mappings":"gPAEA,IAAIA,EAAQ,GAEZA,EAAMC,QADNC,iBAAyB,OAAO,GAEhC,IAAIC,EAAQ,iCACL,SAAiBC,EAAIC,GAExB,OADAF,EAAMC,GAAMC,GACL,eAEJ,SAAqBD,EAAIE,GAE5B,OADAN,EAAMI,GAAME,GACL,QAEJ,SAAcC,EAAO,IACxB,GAAoB,iBAATA,EACP,OAAOJ,EAAMI,GAEjB,MAAMF,EAAS,CACXG,IAAK,IAKT,OAHIC,MAAMC,QAAQH,KACdF,EAAOG,IAAMD,GAEVF,WAEJH,eAAuBS,GAC1B,MACMH,EADSG,EAAMC,GACFJ,KAAO,GAC1B,GAAkB,GAAdA,EAAIK,OACJ,OAAO,EACX,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAIK,SAAUC,EAAG,CACjC,IAAIR,EAAKE,EAAIM,GAIb,GAHkB,iBAAPR,IACPA,EAAKN,EAAMM,IAAON,EAAMC,eAElBK,EAAGK,GACT,OAAO,EAEf,OAAO"}