{"version":3,"file":"gw-ai.min.js","sources":["../js/config.js","../js/idle.js","../js/index.js"],"sourcesContent":[";\n;\nasync function NULL_FUNC() { }\nexport const ACTIONS = {\n    endTurn: NULL_FUNC,\n};\nexport function configure(actions) {\n    Object.assign(ACTIONS, actions);\n}\nexport var FUNCS = {};\nasync function MISSING() { console.log('Missing AI'); return false; }\nFUNCS.default = MISSING;\nexport function addFunction(id, fn) {\n    FUNCS[id] = fn;\n    return true;\n}\n//# sourceMappingURL=config.js.map","import { ACTIONS, addFunction } from './config';\nexport async function idle(actor) {\n    await ACTIONS.endTurn(actor, 1.0);\n    return true;\n}\naddFunction('idle', idle);\n//# sourceMappingURL=idle.js.map","var KINDS = {};\nexport function addKind(id, config) {\n    KINDS[id] = config;\n    return true;\n}\nexport function make(opts = {}) {\n    if (typeof opts === 'string') {\n        return KINDS[opts];\n    }\n    const config = {\n        fns: [],\n    };\n    if (Array.isArray(opts)) {\n        config.fns = opts;\n    }\n    return config;\n}\nimport { FUNCS } from './config';\nexport async function execute(actor) {\n    const config = actor.ai;\n    const fns = config.fns || [];\n    if (fns.length == 0)\n        return false;\n    for (let i = 0; i < fns.length; ++i) {\n        let fn = fns[i];\n        if (typeof fn === 'string') {\n            fn = FUNCS[fn] || FUNCS.default;\n        }\n        if (await fn(actor))\n            return true;\n    }\n    return false;\n}\nexport { configure, addFunction } from './config';\nimport './idle';\n//# sourceMappingURL=index.js.map"],"names":["ACTIONS","endTurn","async","FUNCS","addFunction","id","fn","default","console","log","actor","KINDS","config","opts","fns","Array","isArray","ai","length","i","actions","Object","assign"],"mappings":"gPAGO,MAAMA,EAAU,CACnBC,QAFJC,oBAOO,IAAIC,EAAQ,GAGZ,SAASC,EAAYC,EAAIC,GAE5B,OADAH,EAAME,GAAMC,GACL,EAHXH,EAAMI,QADNL,iBAAsD,OAA3BM,QAAQC,IAAI,eAAsB,GCL7DL,EAAY,QAJLF,eAAoBQ,GAEvB,aADMV,EAAQC,QAAQS,EAAO,IACtB,KCHX,IAAIC,EAAQ,iCACL,SAAiBN,EAAIO,GAExB,OADAD,EAAMN,GAAMO,GACL,QAEJ,SAAcC,EAAO,IACxB,GAAoB,iBAATA,EACP,OAAOF,EAAME,GAEjB,MAAMD,EAAS,CACXE,IAAK,IAKT,OAHIC,MAAMC,QAAQH,KACdD,EAAOE,IAAMD,GAEVD,WAGJV,eAAuBQ,GAC1B,MACMI,EADSJ,EAAMO,GACFH,KAAO,GAC1B,GAAkB,GAAdA,EAAII,OACJ,OAAO,EACX,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAII,SAAUC,EAAG,CACjC,IAAIb,EAAKQ,EAAIK,GAIb,GAHkB,iBAAPb,IACPA,EAAKH,EAAMG,IAAOH,EAAMI,eAElBD,EAAGI,GACT,OAAO,EAEf,OAAO,aFzBJ,SAAmBU,GACtBC,OAAOC,OAAOtB,EAASoB"}